import{z as B,c as d,d as e,B as p,e as y,f as g,a as _,F as w,i as M,w as i,v as c,t as n,y as r,n as f,b as U,C as N,h as C,k as q,o as a}from"./index-CV2yURCK.js";const F={class:"section"},P={class:"container mx-auto px-4"},Y={key:0,class:"card p-6 text-center"},E={key:1,class:"grid md:grid-cols-3 gap-6"},R={class:"md:col-span-2 space-y-4"},S={class:"card p-4"},K={class:"space-y-3"},L={class:"flex items-center gap-3"},W=["src"],z={class:"font-medium"},O={class:"text-sm text-gray-600"},G={class:"flex items-center gap-3"},H={class:"inline-flex items-center border rounded-lg overflow-hidden"},A=["onClick"],J={class:"px-4 py-2 bg-gray-50"},Q=["onClick"],X=["onClick"],Z={class:"card p-4"},ee={class:"grid sm:grid-cols-2 gap-3"},se={class:"space-y-1"},te={key:0,class:"text-xs text-red-600"},oe={class:"space-y-1"},le={key:0,class:"text-xs text-red-600"},de={class:"space-y-1 sm:col-span-2"},ae={key:0,class:"text-xs text-red-600"},ne={class:"mt-4"},re={class:"grid sm:grid-cols-3 gap-3"},ie={class:"mt-4"},ce={key:0,class:"grid sm:grid-cols-2 gap-3"},ue={class:"space-y-1 sm:col-span-2"},me=["value"],pe={key:0,class:"text-xs text-red-600"},xe={class:"space-y-1"},ve=["value"],be={key:0,class:"text-xs text-red-600"},ye={class:"space-y-1"},ge={key:0,class:"text-xs text-red-600"},_e={class:"space-y-1 sm:col-span-2"},fe={key:0,class:"text-xs text-red-600"},he={key:1,class:"grid sm:grid-cols-2 gap-3"},ke={class:"space-y-1"},we={key:0,class:"text-xs text-red-600"},Ne={class:"space-y-1"},Ce={key:0,class:"text-xs text-red-600"},Ie={key:2,class:"grid sm:grid-cols-2 gap-3"},Ve={class:"space-y-1"},je={key:0,class:"text-xs text-red-600"},$e={class:"space-y-1"},De={key:0,class:"text-xs text-red-600"},Te={class:"space-y-4"},Be={class:"card p-4"},Me={class:"flex items-center justify-between"},Ue={class:"font-semibold"},qe={class:"flex items-center justify-between mt-2"},Fe={class:"font-semibold"},Pe=["disabled"],Ye={key:0},Ee={key:1},Re={key:0,class:"text-green-600 text-sm mt-3"},Se={key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center"},Ke={class:"bg-white rounded-xl p-6 w-[90%] max-w-md text-center"},Le={class:"mt-4 flex items-center justify-center gap-3"},Oe={__name:"Checkout",setup(We){const u=B(),v=C(!1),b=C(!1),t=N({name:"",email:"",phone:"",method:"card",cardNumber:"",expiry:"",cvv:"",cardName:"",walletNumber:"",txnId:""}),l=N({name:"",email:"",phone:"",cardNumber:"",expiry:"",cvv:"",cardName:"",walletNumber:"",txnId:""}),I=()=>{l.name=t.name?"":"Name is required",l.email=/.+@.+\..+/.test(t.email)?"":"Valid email required",l.phone=t.phone&&t.phone.length>=6?"":"Valid phone required"},V=()=>{const m=t.cardNumber.replace(/\s/g,"");l.cardNumber=m.length===16?"":"16-digit card number",l.expiry=/^\d{2}\/\d{2}$/.test(t.expiry)?"":"Format MM/YY",l.cvv=/^\d{3,4}$/.test(t.cvv)?"":"3-4 digit CVV",l.cardName=t.cardName?"":"Name on card required"},j=()=>{l.walletNumber=/^\d{11}$/.test(t.walletNumber)?"":"11-digit number",l.txnId=t.txnId?"":"Transaction ID required"},h=q(()=>(I(),t.method==="card"?V():j(),Object.values(l).every(m=>m===""))),$=()=>{h.value&&(v.value=!0,setTimeout(()=>{v.value=!1,b.value=!0,u.clear()},1200))},D=m=>{const s=m.replace(/\D/g,"").slice(0,16),x=[];for(let o=0;o<s.length;o+=4)x.push(s.slice(o,o+4));t.cardNumber=x.join(" ")},T=m=>{const s=m.replace(/\D/g,"").slice(0,4);s.length<=2?t.expiry=s:t.expiry=s.slice(0,2)+"/"+s.slice(2)};return(m,s)=>{const x=U("RouterLink");return a(),d(w,null,[e("main",F,[e("div",P,[s[28]||(s[28]=e("div",{class:"flex items-center justify-between mb-6"},[e("div",null,[e("div",{class:"eyebrow"},"Order"),e("h1",{class:"title"},"Checkout"),e("p",{class:"subtitle"},"Review your order and complete payment")])],-1)),p(u).items.length===0?(a(),d("div",Y,[s[15]||(s[15]=e("div",{class:"font-semibold mb-2"},"Your cart is empty",-1)),s[16]||(s[16]=e("p",{class:"text-sm text-gray-600"},"Browse courses and add to cart to proceed.",-1)),y(x,{to:"/courses",class:"btn-primary inline-block mt-4"},{default:g(()=>[...s[14]||(s[14]=[_("Browse Courses",-1)])]),_:1})])):(a(),d("div",E,[e("div",R,[e("div",S,[s[17]||(s[17]=e("div",{class:"font-semibold mb-3"},"Items",-1)),e("div",K,[(a(!0),d(w,null,M(p(u).items,o=>(a(),d("div",{key:o.id,class:"flex items-center justify-between"},[e("div",L,[e("img",{src:o.image,alt:"",class:"w-16 h-16 rounded object-cover"},null,8,W),e("div",null,[e("div",z,n(o.title),1),e("div",O,"$"+n(o.price)+" × "+n(o.qty),1)])]),e("div",G,[e("div",H,[e("button",{class:"px-3 py-2 hover:bg-gray-50",onClick:k=>p(u).dec(o.id),"aria-label":"Decrease"},"−",8,A),e("div",J,n(o.qty),1),e("button",{class:"px-3 py-2 hover:bg-gray-50",onClick:k=>p(u).inc(o.id),"aria-label":"Increase"},"+",8,Q)]),e("button",{class:"text-red-600",onClick:k=>p(u).removeItem(o.id)},"Remove",8,X)])]))),128))])]),e("div",Z,[s[24]||(s[24]=e("div",{class:"font-semibold mb-3"},"Billing Details",-1)),e("div",ee,[e("div",se,[i(e("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>t.name=o),type:"text",placeholder:"Full name *",class:"p-3 border rounded w-full"},null,512),[[c,t.name]]),l.name?(a(),d("div",te,n(l.name),1)):r("",!0)]),e("div",oe,[i(e("input",{"onUpdate:modelValue":s[1]||(s[1]=o=>t.email=o),type:"email",placeholder:"Email address *",class:"p-3 border rounded w-full"},null,512),[[c,t.email]]),l.email?(a(),d("div",le,n(l.email),1)):r("",!0)]),e("div",de,[i(e("input",{"onUpdate:modelValue":s[2]||(s[2]=o=>t.phone=o),type:"tel",placeholder:"Phone number *",class:"p-3 border rounded w-full"},null,512),[[c,t.phone]]),l.phone?(a(),d("div",ae,n(l.phone),1)):r("",!0)])]),e("div",ne,[s[21]||(s[21]=e("div",{class:"font-semibold mb-2"},"Payment Method",-1)),e("div",re,[e("button",{type:"button",class:f(["p-3 rounded-lg border",t.method==="card"?"border-primary ring-2 ring-primary/30":"border-gray-200"]),onClick:s[3]||(s[3]=o=>t.method="card")},[...s[18]||(s[18]=[e("div",{class:"flex items-center justify-between"},[e("span",{class:"font-medium"},"Card"),e("span",{class:"text-xs text-gray-600"},"Visa • Mastercard")],-1)])],2),e("button",{type:"button",class:f(["p-3 rounded-lg border",t.method==="bkash"?"border-primary ring-2 ring-primary/30":"border-gray-200"]),onClick:s[4]||(s[4]=o=>t.method="bkash")},[...s[19]||(s[19]=[e("div",{class:"flex items-center justify-between"},[e("span",{class:"font-medium"},"bKash"),e("span",{class:"text-xs text-gray-600"},"Mobile Wallet")],-1)])],2),e("button",{type:"button",class:f(["p-3 rounded-lg border",t.method==="nagad"?"border-primary ring-2 ring-primary/30":"border-gray-200"]),onClick:s[5]||(s[5]=o=>t.method="nagad")},[...s[20]||(s[20]=[e("div",{class:"flex items-center justify-between"},[e("span",{class:"font-medium"},"Nagad"),e("span",{class:"text-xs text-gray-600"},"Mobile Wallet")],-1)])],2)])]),e("div",ie,[t.method==="card"?(a(),d("div",ce,[e("div",ue,[e("input",{value:t.cardNumber,onInput:s[6]||(s[6]=o=>D(o.target.value)),inputmode:"numeric",maxlength:"19",placeholder:"Card number *",class:"p-3 border rounded w-full"},null,40,me),l.cardNumber?(a(),d("div",pe,n(l.cardNumber),1)):r("",!0)]),e("div",xe,[e("input",{value:t.expiry,onInput:s[7]||(s[7]=o=>T(o.target.value)),inputmode:"numeric",maxlength:"5",placeholder:"MM/YY *",class:"p-3 border rounded w-full"},null,40,ve),l.expiry?(a(),d("div",be,n(l.expiry),1)):r("",!0)]),e("div",ye,[i(e("input",{"onUpdate:modelValue":s[8]||(s[8]=o=>t.cvv=o),inputmode:"numeric",maxlength:"4",placeholder:"CVV *",class:"p-3 border rounded w-full"},null,512),[[c,t.cvv]]),l.cvv?(a(),d("div",ge,n(l.cvv),1)):r("",!0)]),e("div",_e,[i(e("input",{"onUpdate:modelValue":s[9]||(s[9]=o=>t.cardName=o),type:"text",placeholder:"Name on card *",class:"p-3 border rounded w-full"},null,512),[[c,t.cardName]]),l.cardName?(a(),d("div",fe,n(l.cardName),1)):r("",!0)])])):t.method==="bkash"?(a(),d("div",he,[e("div",ke,[i(e("input",{"onUpdate:modelValue":s[10]||(s[10]=o=>t.walletNumber=o),inputmode:"tel",maxlength:"11",placeholder:"bKash number *",class:"p-3 border rounded w-full"},null,512),[[c,t.walletNumber]]),l.walletNumber?(a(),d("div",we,n(l.walletNumber),1)):r("",!0)]),e("div",Ne,[i(e("input",{"onUpdate:modelValue":s[11]||(s[11]=o=>t.txnId=o),placeholder:"Transaction ID *",class:"p-3 border rounded w-full"},null,512),[[c,t.txnId]]),l.txnId?(a(),d("div",Ce,n(l.txnId),1)):r("",!0)]),s[22]||(s[22]=e("div",{class:"sm:col-span-2 text-xs text-gray-600"},"bKash app theke payment complete kore Transaction ID din.",-1))])):(a(),d("div",Ie,[e("div",Ve,[i(e("input",{"onUpdate:modelValue":s[12]||(s[12]=o=>t.walletNumber=o),inputmode:"tel",maxlength:"11",placeholder:"Nagad number *",class:"p-3 border rounded w-full"},null,512),[[c,t.walletNumber]]),l.walletNumber?(a(),d("div",je,n(l.walletNumber),1)):r("",!0)]),e("div",$e,[i(e("input",{"onUpdate:modelValue":s[13]||(s[13]=o=>t.txnId=o),placeholder:"Transaction ID *",class:"p-3 border rounded w-full"},null,512),[[c,t.txnId]]),l.txnId?(a(),d("div",De,n(l.txnId),1)):r("",!0)]),s[23]||(s[23]=e("div",{class:"sm:col-span-2 text-xs text-gray-600"},"Nagad app theke payment complete kore Transaction ID din.",-1))]))])])]),e("div",Te,[e("div",Be,[e("div",Me,[s[25]||(s[25]=e("span",{class:"text-gray-700"},"Subtotal",-1)),e("span",Ue,"$"+n(p(u).subtotal.toFixed(2)),1)]),e("div",qe,[s[26]||(s[26]=e("span",{class:"text-gray-700"},"Total",-1)),e("span",Fe,"$"+n(p(u).total.toFixed(2)),1)]),e("button",{class:"btn-primary w-full mt-4",disabled:v.value||!h.value,onClick:$},[v.value?(a(),d("span",Ye,"Processing...")):(a(),d("span",Ee,"Pay Now"))],8,Pe),b.value?(a(),d("div",Re,"Payment successful. Enrollment confirmed.")):r("",!0)]),s[27]||(s[27]=e("div",{class:"text-xs text-gray-600"}," Secure payment is simulated for demo purposes. ",-1))])]))])]),b.value?(a(),d("div",Se,[e("div",Ke,[s[31]||(s[31]=e("div",{class:"text-2xl font-semibold mb-2"},"Thank you",-1)),s[32]||(s[32]=e("p",{class:"text-gray-600"},"Your enrollment has been confirmed.",-1)),e("div",Le,[y(x,{to:"/courses",class:"btn-primary"},{default:g(()=>[...s[29]||(s[29]=[_("Continue Browsing",-1)])]),_:1}),y(x,{to:"/",class:"border px-5 py-3 rounded-lg"},{default:g(()=>[...s[30]||(s[30]=[_("Go Home",-1)])]),_:1})])])])):r("",!0)],64)}}};export{Oe as default};
